<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="initial-scale=1.0" />

<title>Breakpoint</title>

<script type="text/javascript" src="../breakpoint.src.js"></script>

<script type="text/javascript">
    var demo = function() {
        var inputEl = document.getElementById('input'),
            cssEl = document.getElementById('css'),
            htmlEl = document.getElementById('html'),
            i = 0, j, k,
            widths = window['https://github.com/davesmith/breakpoint'].widths,
            widthsLength = widths.length,
            css = '',
            html = '',
            width;
        
        css += '.col {width:' + 100/(widthsLength + 1) + '%;}';
        
        html += '<div class="col">';
        for (j = 0; j < widthsLength; j++) {
            width = widths[j];
            css += '.lte' + width + ' .test' + i + ',';
            html += '<div class="test'+i+'">lte' + width + '</div>';
            i++;
        }
        html += '</div>';
        
        for (j = 0; j < widthsLength - 1; j++) {
            width = widths[j];
            html += '<div class="col">';
            for (k = 0; k < widthsLength; k++) {
                width2 = widths[k];
                css += '.gt' + width + 'lte' + width2 + ' .test' + i + ',';
                html += '<div class="test'+i+' ' + ((width >= width2) ? 'grey-out' : '') + '">gt' + width + 'lte' + width2 + '</div>';
                i++;
            }
            html += '</div>';
        }
        html += '<div class="col">';
        for (j = 0; j < widthsLength; j++) {
            width = widths[j];;
            css += '.gt' + width + ' .test' + i + ',';
            html += '<div class="test'+i+'">gt' + width + '</div>';
            i++;
        }
        html += '</div>';

        htmlEl.innerHTML = html;
        cssEl.innerHTML = css + ' asdaasd {background:#090;color:#fff;}';
    };
    var updateDemo = function() {
        widths = input.value.split(',');
        for (var i = 0; i < widths.length; i++) {
            widths[i] = widths[i].replace(/\s+/g, '') * 1;
        }
        widths.sort(function(a, b) {
            return a - b;
        });
        window['https://github.com/davesmith/breakpoint'].widths = widths;
        window['https://github.com/davesmith/breakpoint'].update();
        demo();
    };
    var input;
    window.onload = function() {
        input = document.getElementById('input');
        updateDemo();
        input.onchange = updateDemo;
    };
    
</script>
<style type="text/css">
input {width:98%;}
.col {float:left;}
.col div {background:#ddd;padding:4px;margin:0;font-size:70%;font-family:verdana;}
.col .grey-out {background:#ddd;color:#aaa;}

</style>

<style type="text/css" id="css"></style>

</head>

<body>
<h1>Breakpoint</h1>
<p><a href="https://github.com/davesmith/breakpoint">github.com/davesmith/breakpoint</a></p>
<input value="320, 480, 600, 720, 768, 800, 1024, 1080, 1280, 1440" id="input" />
<div id="html">HTML</div>
</body>
</html>
